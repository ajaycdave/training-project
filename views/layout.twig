<!DOCTYPE html>
<html lang="en">
<!-- begin::Head -->
<head>

    {% block head %}

    <meta charset="utf-8"/>
    

    <title>Home Page</title>
    <meta name="description" content="Layout options builder">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">


    <link rel="shortcut icon" href="'media/company-logos/favicon.png'" />
    <link rel="apple-touch-icon" href="'media/company-logos/favicon.png'" />
    <!--begin::Fonts -->
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700|Roboto:300,400,500,600,700">
    <!--end::Fonts -->

    <!--begin::Global Theme Styles(used by all pages) -->
   
    <!--end::Global Theme Styles -->

    <!--begin:: Global Mandatory Vendors -->
    <link href="assets/vendors/general/perfect-scrollbar/css/perfect-scrollbar.css" rel="stylesheet" type="text/css" />
    <!--end:: Global Mandatory Vendors -->
    <!--begin::Page Vendors Styles(used by this page) -->
  
    <!--begin:: Global Optional Vendors -->
    <link href="assets/vendors/general/bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.css" rel="stylesheet" type="text/css" />
    <link href="assets/vendors/general/sweetalert2/dist/sweetalert2.css" rel="stylesheet" type="text/css" />
    <link href="assets/vendors/general/socicon/css/socicon.css" rel="stylesheet" type="text/css" />
    <link href="assets/vendors/custom/vendors/line-awesome/css/line-awesome.css" rel="stylesheet" type="text/css" />
    <link href="assets/vendors/custom/vendors/flaticon/flaticon.css" rel="stylesheet" type="text/css" />
    <link href="assets/vendors/custom/vendors/flaticon2/flaticon.css" rel="stylesheet" type="text/css" />
    <link href="assets/vendors/general/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css" />

    <!--end:: Global Optional Vendors -->
    <!--begin::Global Theme Styles(used by all pages) -->
    <link href="assets/css/arrow/style.bundle.css" rel="stylesheet" type="text/css" />
    <!--end::Global Theme Styles -->
    <!--begin::Layout Skins(used by all pages) -->
    <link href="assets/css/arrow/skins/header/base/light.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/arrow/skins/header/menu/light.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/arrow/skins/brand/dark.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/arrow/skins/aside/dark.css" rel="stylesheet" type="text/css" />
     <link href="assets/vendors/general/bootstrap-datepicker/dist/css/bootstrap-datepicker.css" rel="stylesheet" type="text/css" />

    <link href="assets/vendors/general/inputmask/css/email.multiple.css" rel="stylesheet" type="text/css"/>    


    <!--end::Layout Skins -->
<style>
    .kt-aside__brand {
        background-color: #fff;
        box-shadow: none;
    }

    .table .thead-arrow-green th {
    color: #fff !important;
    background-color: #0a6432 !important;
    border-color: #0a6432 !important;
    }
    .kt-aside-menu .kt-menu__nav > .kt-menu__item > .kt-menu__heading .kt-menu__link-icon, .kt-aside-menu .kt-menu__nav > .kt-menu__item > .kt-menu__link .kt-menu__link-icon {
        color: #fff !important;
    }
    .kt-aside-menu .kt-menu__nav > .kt-menu__item > .kt-menu__heading .kt-menu__link-text, .kt-aside-menu .kt-menu__nav > .kt-menu__item > .kt-menu__link .kt-menu__link-text {
        color: #fff !important;
    }
    .kt-aside-menu .kt-menu__nav > .kt-menu__section .kt-menu__section-text {
        color: #646c9a;
    }
    .kt-aside-menu .kt-menu__nav > .kt-menu__section .kt-menu__section-text {
        color: #fff;
    }
    .dropzone .dz-preview .dz-image img{
        display: block;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    /****New added style on 31-01-2020***/
  /*  a.btn.btn-label-brand:focus, a.btn.btn-label-brand:hover, a.btn.btn-label-brand.active, button.btn.btn-label-brand:focus, button.btn.btn-label-brand:hover, button.btn.btn-label-brand.active, input.btn.btn-label-brand:focus, input.btn.btn-label-brand:hover, input.btn.btn-label-brand.active {
        background-color: #0a6432;
        color: #ffffff;
    }
    .btn.btn-label-brand {
        background-color: rgba(93, 120, 255, 0.1);
        color: #ce0000;
        cursor: text !important;
    }*/
    /*.dataTables_wrapper .pagination .page-item.active > .page-link {
        background: #0a6432;
        color: #ffffff;
    }*/

@media (min-width: 1025px){
          .kt-form.kt-form--label-right .form-group label:not(.kt-checkbox):not(.kt-radio):not(.kt-option) {
                   text-align: left;
        }
        .error{
            margin: 0px 0px 0px 0px;

        }

      /*  .form-control.error{
            border-color: #fd397a;
        }*/

}
</style>
<script>
    var KTAppOptions = {
        "colors": {
            "state": {
                "brand": "#5d78ff",
                "dark": "#282a3c",
                "light": "#ffffff",
                "primary": "#5867dd",
                "success": "#34bfa3",
                "info": "#36a3f7",
                "warning": "#ffb822",
                "danger": "#fd3995"
            },
            "base": {
                "label": [
                    "#c5cbe3",
                    "#a1a8c3",
                    "#3d4465",
                    "#3e4466"
                ],
                "shape": [
                    "#f0f3ff",
                    "#d9dffa",
                    "#afb4d4",
                    "#646c9a"
                ]
            }
        }
    };
</script>
<!-- end::Global Config -->


<!--begin::Global Theme Bundle(used by all pages) -->

<!--end::Global Theme Bundle -->

<!--begin:: Global Mandatory Vendors -->
<script src="assets/vendors/general/jquery/dist/jquery.js" type="text/javascript"></script>
<script src="assets/vendors/general/popper.js/dist/umd/popper.js" type="text/javascript"></script>
<script src="assets/vendors/general/bootstrap/dist/js/bootstrap.min.js" type="text/javascript"></script>

<script src="assets/vendors/general/js-cookie/src/js.cookie.js" type="text/javascript"></script>
<script src="assets/vendors/general/moment/min/moment.min.js" type="text/javascript"></script>
<script src="assets/vendors/general/tooltip.js/dist/umd/tooltip.min.js" type="text/javascript"></script>
<script src="assets/vendors/general/perfect-scrollbar/dist/perfect-scrollbar.js" type="text/javascript"></script>
<script src="assets/vendors/general/sticky-js/dist/sticky.min.js" type="text/javascript"></script>
<script src="assets/vendors/general/wnumb/wNumb.js" type="text/javascript"></script>


<!--begin::Validation JS Vendors -->
<script src="assets/vendors/general/jquery-validation/dist/jquery.validate.min.js" type="text/javascript"></script>
<script src="assets/vendors/general/jquery-validation/dist/additional-methods.min.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@8.14.0/dist/sweetalert2.all.min.js"></script>
<!--end:: Validation JS Vendors -->
<!--end:: Global Mandatory Vendors -->

<!--begin::Global Theme Bundle(used by all pages) -->
<script src="assets/js/arrow/scripts.bundle.js" type="text/javascript"></script>
<script src="assets/vendors/general/bootstrap-datepicker/js/bootstrap-datepicker.js" type="text/javascript"></script>



{% block jspush %}
    
{% endblock %}
<!--end::Global Theme Bundle -->
<!--begin::Page Vendors(used by this page) -->
    <script>

        const message = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success shadow-sm mr-2',
                cancelButton: 'btn btn-danger shadow-sm'
            },
            buttonsStyling: false,
        });
    </script>

<!--end::Page Vendors -->
<!--begin::Page Scripts(used by this page) -->

<script type="text/javascript">
 //let APP_URL = json_encode(url('/'));
    


     jQuery(document).ready(function () {
        var msg_status='{{ status }}';
        var message_content='{{ message }}';
        const toast = Swal.mixin({
        toast: true,
        position: 'top-end',
        showConfirmButton: false,
        timer: 8000
    });
    if(msg_status=="success")
    {

        message.fire({
        type: 'success',
        title: 'Success',
        text:message_content
    });

    }   
    else if(msg_status=="error"){
        message.fire({
        type: 'error',
        title: 'Error',
        text: "message_content"
    });    
    }        
  /*  @if(Session::has('error'))
    message.fire({
        type: 'error',
        title: 'Error',
        text: "{!!  session('error')  !!}"
    });
    @php session()->forget('error') @endphp
    @endif

    @if(Session::has('success'))
    message.fire({
        type: 'success',
        title: 'Success',
        text: "{!!  session('success')  !!}"
    });
    @php session()->forget('success') @endphp
    @endif
*/
        $(document).on('click', '.delete-confirm', function (e) {
            e.preventDefault();

            var el = $(this);
            var url = el.attr('href');
            var id = el.data('id');
            var refresh = el.closest('table');

            message.fire({
                title: 'Are you sure?',
                text: "You won't be able to revert this!",
                type: 'warning',
                customClass: {
                    confirmButton: 'btn btn-success shadow-sm mr-2',
                    cancelButton: 'btn btn-danger shadow-sm'
                },
                buttonsStyling: false,
                showCancelButton: true,
                confirmButtonText: 'Yes, delete it!',
                cancelButtonText: 'No, cancel!',
            }).then((result) => {
                if (result.value) {
                    $.ajax({
                        type: "POST",
                        url: url,
                        dataType: 'json',
                        data: {
                            id: id,
                            _method: 'DELETE'
                        }
                    }).always(function (respons) {
                            
                        $(refresh).DataTable().ajax.reload();
                    }).done(function (respons) {
                        
                        if (!respons.success) {
                            message.fire({
                                type: 'error',
                                title: 'Error',
                                text: respons.message
                            });
                        } else {
                            message.fire({
                                type: 'success',
                                title: 'Success',
                                text: respons.message
                            });
                        }
                    }).fail(function (respons) {
                        var res = respons.responseJSON;
                        var msg = 'something went wrong please try again !';
                        if (res.errormessage) {
                            msg = res.errormessage
                        }
                        message.fire({
                            type: 'error',
                            title: 'Error',
                            text: msg
                        });
                    });
                }
            });

        });

        $(document).on('click', '.change-status', function (e) {
            var el = $(this);
            var url = el.data('url');
            var id = el.val();
            var table_name=$('#table_name').val();
            $.ajax({
                type: "POST",
                url: url,
                data: {
                    id: id,
                    table_name:table_name,
                    status: el.prop("checked"),
                }
            }).always(function (respons) {
            }).done(function (respons) {
                message.fire({
                    type: 'success',
                    title: 'Success',
                    text: respons.message
                });
            }).fail(function (respons) {
                message.fire({
                    type: 'error',
                    title: 'Error',
                    text: 'something went wrong please try again !'
                });
            });
        });

        $(document).on('click', '.call-model', function (e) {

            e.preventDefault();
            // return false;
            var el = $(this);
            var url = el.data('url');
            var target = el.data('target-modal');

            $.ajax({
                type: "GET",
                url: url
            }).always(function () {
                $('#load-modal').html(' ')
            }).done(function (res) {
                $('#load-modal').html(res.html);
                $(target).modal('toggle');
            });

        });

    });

  $.ajaxSetup({
        headers: {
            'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
        }
    });
</script>
{% endblock %}
     
    <!--begin::Layout Skins(used by all pages) -->
</head>
<!-- end::Head -->

<!-- begin::Body -->
<body class="kt-page--loading-enabled kt-page--loading kt-quick-panel--right kt-demo-panel--right kt-offcanvas-panel--right kt-header--fixed kt-subheader--enabled kt-subheader--fixed kt-subheader--solid kt-aside--enabled kt-aside--fixed kt-aside--minimize kt-page--loading">
<!-- begin::Page loader -->
<div class="kt-page-loader kt-page-loader--logo">
    <img alt="Logo" src="'media/company-logos/favicon.png'"/>
    <div class="kt-spinner kt-spinner--danger"></div>
</div>

<!-- end::Page Loader -->
<!-- begin:: Page -->
<!-- begin:: Header Mobile -->
<div id="kt_header_mobile" class="kt-header-mobile ">
    <div class="kt-header-mobile__logo">
        <a href="/metronic/preview/arrow/index.html">
            <img alt="Logo" src="/metronic/themes/metronic/theme/default/arrow/dist/assets/media/logos/logo-dark.png"/>
        </a>
    </div>
    <div class="kt-header-mobile__toolbar">
        <button class="kt-header-mobile__toggler kt-header-mobile__toggler--left" id="kt_aside_mobile_toggler">
            <span></span></button>

        <button class="kt-header-mobile__toggler" id="kt_header_mobile_toggler"><span></span></button>

        <button class="kt-header-mobile__topbar-toggler" id="kt_header_mobile_topbar_toggler">
            <i class="flaticon-more"></i></button>
    </div>
</div>
<!-- end:: Header Mobile -->
<div class="kt-grid kt-grid--hor kt-grid--root">
    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">

        <!-- begin:: Aside -->

        <!-- Uncomment this to display the close button of the panel
        <button class="kt-aside-close " id="kt_aside_close_btn"><i class="la la-close"></i></button>
        -->
        {% include 'sidebar.html' %}
   <!--  @include('admin.layouts.sidebar') -->
    <!-- end:: Aside -->

        <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">
            <!-- begin:: Header -->
            
            {% include 'header.html' with {'useremail':getUser()}  %}
    <!--     @include('admin.layouts.header') -->
            <!-- end:: Header -->
            <div class="kt-content  kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor" id="kt_content">
                    {% block subheader %}

                    {% endblock %}
                <!-- begin:: Subheader -->
           <!--  @yield('Subheader') -->
                <!-- end:: Subheader -->

                <!-- begin:: Content -->
                <div class="kt-container  kt-container--fluid  kt-grid__item kt-grid__item--fluid">
                    <!--begin::Portlet-->
                    <!-- @yield('content') -->
                    <!--end::Portlet-->
                      {% block content %}  

                      {% endblock %}
                </div>
                <!-- end:: Content -->                </div>

            <!-- begin:: Footer -->
            {% block footer %}

            <div class="kt-footer kt-grid__item kt-grid kt-grid--desktop kt-grid--ver-desktop" id="kt_footer">
                <div class="kt-footer__copyright">
        <a href="#" target="_blank" class="kt-link">Almighty software PVT. LTD.</a>&nbsp;All Rights Reserved.
                </div>
            </div>
        {% endblock %}
            <!-- end:: Footer -->            </div>
    </div>
</div>
<!-- end:: Page -->


<!-- begin::Scrolltop -->
<div id="kt_scrolltop" class="kt-scrolltop">
    <i class="fa fa-arrow-up"></i>
</div>
<!-- end::Scrolltop -->
<!-- begin::Global Config(global config for global JS sciprts) -->

<!--end::Page Scripts -->
</body>
<!-- end::Body -->
</html>
